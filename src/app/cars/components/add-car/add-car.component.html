<div class="form-container">
  <h1>Dobrodošli u AutoProjekt!</h1>
  <h2>Dodaj Novi Auto</h2>

  <form #carForm="ngForm" (ngSubmit)="onSubmit()">
  <!-- Marka -->
  <div class="form-group">
    <label for="marka">Marka</label>
    <input
      id="marka"
      type="text"
      [(ngModel)]="car.marka"
      name="marka"
      #marka="ngModel"
      placeholder="Unesite marku auta"
      required
    />
    <div class="error" *ngIf="marka.invalid && marka.touched">
      * Ovo polje je obavezno
    </div>
  </div>

  <!-- Model -->
  <div class="form-group">
    <label for="model">Model</label>
    <input
      id="model"
      type="text"
      [(ngModel)]="car.model"
      name="model"
      #model="ngModel"
      placeholder="Unesite model auta"
      required
    />
    <div class="error" *ngIf="model.invalid && model.touched">
      * Ovo polje je obavezno
    </div>
  </div>

  <!-- Godina -->
  <div class="form-group">
    <label for="godiste">Godina</label>
    <input
      id="godiste"
      type="number"
      [(ngModel)]="car.godiste"
      name="godiste"
      #godiste="ngModel"
      placeholder="2024"
      required
      min="1900"
      max="{{ currentYear }}"
    />
    <div class="error" *ngIf="godiste.invalid && godiste.touched">
      <span *ngIf="godiste.errors?.['required']">* Polje je obavezno</span>
      <span *ngIf="godiste.errors?.['min'] || godiste.errors?.['max']">
        * Unesite godinu između 1900 i {{ currentYear }}
      </span>
    </div>
  </div>

  <!-- Cijena -->
  <div class="form-group">
    <label for="cijena">Cijena (KM)</label>
    <input
      id="cijena"
      type="number"
      [(ngModel)]="car.cijena"
      name="cijena"
      #cijena="ngModel"
      required
      min="1"
    />
    <div class="error" *ngIf="cijena.invalid && cijena.touched">
      <span *ngIf="cijena.errors?.['required']">* Polje je obavezno</span>
      <span *ngIf="cijena.errors?.['min']">* Cijena mora biti veća od 0</span>
    </div>
  </div>

  <!-- Opis -->
  <div class="form-group">
    <label for="opis">Opis</label>
    <textarea
      id="opis"
      [(ngModel)]="car.opis"
      name="opis"
      rows="4"
      placeholder="Dodatne informacije o autu"
    ></textarea>
  </div>

  <!-- URL slike -->
  <div class="form-group">
    <label for="slikaUrl">URL slike</label>
    <input
      id="slikaUrl"
      type="url"
      [(ngModel)]="car.slikaUrl"
      name="slikaUrl"
      #slikaUrl="ngModel"
      placeholder="https://"
      required
    />
    <div class="error" *ngIf="slikaUrl.invalid && slikaUrl.touched">
      <span *ngIf="slikaUrl.errors?.['required']">* Polje je obavezno</span>
      <span *ngIf="slikaUrl.errors?.['pattern'] || slikaUrl.errors?.['url']">
        * Unesite validan URL
      </span>
    </div>
  </div>

  <button type="submit" [disabled]="carForm.invalid">Dodaj Auto</button>
</form>

<div *ngIf="feedbackMessage" class="feedback" [ngClass]="feedbackType">
  {{ feedbackMessage }}
</div>


</div>
